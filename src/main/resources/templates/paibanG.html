<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
		<title>智链云数</title>
        <link rel="icon" type="image/x-icon" href="../faviconok.ico">
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/font-awesome.min.css" rel="stylesheet">
		<link href="../css/manage_common.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="../css/ch_see_new.css">
		<script src="../js/jquery.min.js"></script>
		<script src="../js/bootstrap.min.js"></script>
		<script src="../js/bootbox.min.js"></script>
		<script src="../js/common.js"></script>
		<script>
			$(document).click(function(event) {
2
			});
		</script>
		<link rel="stylesheet" href="../css/laydate.css" id="layuicss-laydate">
	</head>

	<body style="">
		<nav class=" navbar-static-top">
			<div class="container">
				<div class="logo">
					<a class="navbar-brand" href="/manage/command.html">
						<img src="../images/logo.png">
					</a>
				</div>
				<ul class="nav_h">
                    <li class=""><a href="/zlys/commond">指挥中心</a></li>
                    <li class=""><a href="/common/check">考核中心</a></li>
                    <li class=""><a href="/common/unusual">预警中心</a></li>
                    <li class="active"><a href="/common/system_a">系统管理</a></li>
                    <li class=""><a href="/common/examine">监控中心</a></li>
                    <li class=""><a href="/common/tongjiindex">统计中心</a></li>
				</ul>
				<div class="head_setting">
					<!-- <div class=" see " data-toggle="modal" data-target="#tan_see_new">222</div> -->
					<div class=" see admin_see" data-toggle="modal" data-target="#tan_see_new">
						<a href="javascript:"></a>
					</div>

					<!--<div class=" see usual_see" style="display: none;">
                <a href="/manage/see.html" target="_blank"></a>
            </div>-->

					<div class="notice">
						<span class=" dropdown-toggle " data-toggle="dropdown">
                    <span class="num" style="display: block;">20</span>
						</span>
						<div class="notice_list  dropdown-menu ">
							<p class="top"></p>
							<ul class="scroll" id="notice_list">
								<li class="warning">川BTEST1<span class="role">(转运车)</span> 异常停留</li>
								<li class="warning">川BTEST5<span class="role">(收运车)</span> 超速行驶</li>
								<li class="warning">川BTEST3<span class="role">(收运车)</span> 超速行驶</li>
								<li class="warning">川BTEST9<span class="role">(收运车)</span> 超速行驶</li>
								<li class="warning">川BTEST12<span class="role">(收运车)</span>	异常停留</li>
								<li class="warning">川BTEST12<span class="role">(收运车)</span> 超出区域行驶</li>
								<li class="warning">川BTEST4<span class="role">(收运车)</span> 设备连接异常</li>
								<li class="warning">川BTEST7<span class="role">(收运车)</span> 异常停留</li>
								<li class="warning">川BTEST3<span class="role">(收运车)</span> 超出区域行驶</li>
								<li class="warning">川BTEST8<span class="role">(收运车)</span> 异常停留</li>
								<li class="warning">川BTEST9<span class="role">(收运车)</span> 超出区域行驶</li>
								<li class="warning">川BTEST3<span class="role">(收运车)</span> 异常停留</li>
								<li class="warning">川BTEST6<span class="role">(收运车)</span> 设备连接异常</li>
								<li class="warning">川BTEST7<span class="role">(收运车)</span> 异常停留</li>
								<li class="warning">川BTEST2<span class="role">(转运车)</span> 超速行驶</li>
								<li class="warning">川BTEST4<span class="role">(收运车)</span> 异常停留</li>
								<li class="warning">川BTEST5<span class="role">(收运车)</span> 异常停留</li>
								<li class="warning">川BTEST6<span class="role">(收运车)</span> 超速行驶</li>
								<li class="warning">川BTEST2<span class="role">(转运车)</span> 设备连接异常</li>
								<li class="warning">川BTEST3<span class="role">(收运车)</span> 超速行驶</li>
							</ul>

						</div>
					</div>
					
					<div class="inform">
						<span class=" dropdown-toggle " data-toggle="dropdown">
                    	<span class="num" style="display: block;">1</span>
						</span>
						<div class="notice_list  dropdown-menu ">
							<p class="top"></p>
							<ul class="scroll" id="notice_list">
								<li class=" " >由于暴雨部分地区暂停回收工作</li>
							</ul>
						</div>
					</div>
					
					<div class="user ">
						<span class=" dropdown-toggle " data-toggle="dropdown">
                    <img class="user_img" src="../images/B1477.png">
                    <!-- <span class="text-over" style="max-width: 55px;" title="环卫处管理员">环卫处管理员</span>
						<span class="caret"></span>-->
						</span>

						<div class="user_list dropdown-menu">
							<p class="top"></p>
							<ul class="">
								<li>
									<a href="JavaScript:" data-toggle="modal" data-target="#ziliao_change" class="tan_chuang">
										个人资料
									</a>
								</li>
								<li>
									<a href="/zlys/logout">退出</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</nav>
		<span data-toggle="modal" data-target="#sos" id="addSos"></span>
		<!-- sos -->
		<div class="modal fade" id="sos" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="sos_head">
						<span class="sos_title">张三SOS求救</span>
						<ul>
							<li>联系方式：1234566</li>
							<li>求救时间：2017/01/09 13:09:09</li>
							<li>当前位置：合肥市政务区潜山路123号</li>
						</ul>
						<span class="sos_state">已施救 </span>
					</div>
					<div class="sos_map">
						<div id="map" style="width:100%;height:400px;">

						</div>
					</div>
				</div>
			</div>
		</div>
		<script>
			function alert_sos(event) {
				$('#addSos').click();
			}
		</script>

		<!--看板-->
		<link href="../css/manage_see.css" rel="stylesheet" type="text/css">
		<script src="../js/highcharts.js"></script>
		<!--<script src="../js/echarts.common.min.js"></script>-->

		<!-- 新看板模态 -->
		<div class="modal fade ch_new_modal" id="tan_see_new" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog " role="document">
				<div class="modal-content">
					<div class="modal-body my_new_css">
						<div class="top_header clearfix">
							<div class="down_select fl">
								<p class="top_name"> 绵阳市
									<!--<span class="fa fa-angle-down"></span>--></p>
								<!--  <div class="my_select" style="z-index:99999999;display: none;" >
                            
                            <div class="gong_si">
                                <ul class="wang_ss">
                                    
                                </ul>
                            </div>
                        </div> -->
							</div>
							<!-- 头部 -->

							<div class="work_message fl">
								<ul class="top_num clearfix">
								</ul>
							</div>
							<div class="go_back fl">
								<!-- go_back -->
								<div class="go_back_images " data-dismiss="modal"></div>
							</div>
						</div>

						<!-- tap切换 -->
						<div class="my_tap_change change_item clearfix hide">
							<div class="three_tap clearfix">
								<div class="tap_find fl mo_ren">在岗率</div>
								<div class="tap_find fl">考核分数</div>
								<div class="tap_find fl">异常情况</div>
							</div>
						</div>

						<!-- tap切换 -->
						<div class="my_tap_change change_time clearfix">
							<div class="three_tap clearfix">
								<div class="check_out_num" onclick="checkOut_all_data(this)">导出</div>
								<!-- <input type="text" id="time_num"> -->
								<input class="form-control input_time" style="background:url(../images/date_f.png) no-repeat left center;" readonly="readonly" id="time_num" lay-key="1">
								<div style="display: inline-block;background:url(../images/c_r.png) no-repeat left center;width:20px;height: 20px;position: relative;top:5px;left:-15px;"></div>
								<!-- <div class="tap_find pull-left mo_ren" data-index="1" style="margin-left: 30px;" onclick='all_data(this)'>日</div>
                        <div class="tap_find pull-left" data-index="2" onclick='all_data(this)'>周</div>
                        <div class="tap_find pull-left" data-index="3" onclick='all_data(this)'>月</div> -->

							</div>
						</div>

						<!-- 公司名称 -->
						<div class="left_kong fl"></div>
						<div class="company_list_name ">
							<ul class="fl clearfix" style="margin-bottom: 0;margin-top: 10px;">
								<li title="总计">总计 </li>
								<li title="涪城区">涪城区 </li>
								<li title="游仙区">游仙区 </li>
								<li title="高新区">高新区 </li>
								<li title="经开区">经开区 </li>
								<li title="科创园区">科创园区 </li>
								<li title="科学城">科学城 </li>
								<li title="仙海区">仙海区 </li>
							</ul>
						</div>

						<div class="biao_kuang clearfix">
							<!-- 在岗率 -->
							<div class="chu_qin fl" id="attendance" style="display: none;">
								<div class="day_number clearfix">
									<div class="one_day fl">今天</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li>
												<div id="bing_tu"></div>
											</li>
										</ul>
									</div>
								</div>
							</div>

							<!-- 考核分数 -->
							<div class="chu_qin kao_he fl" style="display: block;" id="mark">
								<div class="day_number clearfix">
									<div class="one_day fl">应到车辆</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:100%;"><span>13</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="" data-sdrs="1427" data-name="总计"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:23%;"><span>3</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="3975" data-sdrs="99" data-name="涪城区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:23%;"><span>3</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="3976" data-sdrs="191" data-name="游仙区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:15%;"><span>2</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="3977" data-sdrs="104" data-name="高新区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:15%;"><span>2</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="3978" data-sdrs="294" data-name="经开区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:7%;"><span>1</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="3979" data-sdrs="53" data-name="科创园区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:7%;"><span>1</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="3980" data-sdrs="237" data-name="科学城"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:7%;"><span>1</span></div>
													<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="3981" data-sdrs="21" data-name="仙海区"></div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="day_number clearfix">
									<div class="one_day fl">实到车辆</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:100%;"><span>13</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:23%;"><span>3</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:15%;"><span>3</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:15%;"><span>2</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:15%;"><span>2</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:7%;"><span>1</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:7%;"><span>1</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:7%;"><span>1</span></div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="day_number clearfix">
									<div class="one_day fl">缺勤车辆</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:100%;"><span>0</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:0%;"><span>0</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:0%;"><span>0</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:0%;"><span>0</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:0%;"><span>0</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:0%;"><span>0</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:0%;"><span>0</span></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu">
													<div class="cherk_num" style="height:0%;"><span>0</span></div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="day_number clearfix">
									<div class="one_day fl">超区域行驶</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li>
												<a href="/manage/unusual/index.html?areaId=">
													<div class="cherk_zhu"><span>3</span>
														<div class="cherk_num" style="height:100%;"></div>
													</div>
												</a>
											</li>
											<li>
												<a href="/manage/unusual/index.html?areaId=151">
													<div class="cherk_zhu"><span>1</span>
														<div class="cherk_num" style="height:0.5%;"></div>
													</div>
												</a>
											</li>
											<li>
												<a href="/manage/unusual/index.html?areaId=232">
													<div class="cherk_zhu"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</div>
												</a>
											</li>
											<li>
												<a href="/manage/unusual/index.html?areaId=231">
													<div class="cherk_zhu"><span>1</span>
														<div class="cherk_num" style="height:0.5%;"></div>
													</div>
												</a>
											</li>
											<li>
												<a href="/manage/unusual/index.html?areaId=353">
													<div class="cherk_zhu"><span>1</span>
														<div class="cherk_num" style="height:0.5%;"></div>
													</div>
												</a>
											</li>
											<li>
												<a href="/manage/unusual/index.html?areaId=148">
													<div class="cherk_zhu"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</div>
												</a>
											</li>
											<li>
												<a href="/manage/unusual/index.html?areaId=149">
													<div class="cherk_zhu"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</div>
												</a>
											</li>
											<li>
												<a href="/manage/unusual/index.html?areaId=147">
													<div class="cherk_zhu"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</div>
												</a>
											</li>
										</ul>
									</div>
								</div>
								<div class="day_number clearfix">
									<div class="one_day fl">异常停留</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li>
												<div class="cherk_zhu"><span>5</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>2</span>
													<div class="cherk_num" style="height:40%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>1</span>
													<div class="cherk_num" style="height:20%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>1</span>
													<div class="cherk_num" style="height:20%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>1</span>
													<div class="cherk_num" style="height:20%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="day_number clearfix">
									<div class="one_day fl">里程异常</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href="javascript:void(0);"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href="javascript:void(0);"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href="javascript:void(0);"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href=""><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href="javascript:void(0);"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href="javascript:void(0);"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href="javascript:void(0);"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
											<li class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">
												<div class="cherk_zhu">
													<a style="color:red;" href="javascript:void(0);"><span>0</span>
														<div class="cherk_num" style="height:0%;"></div>
													</a>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="day_number clearfix">
									<div class="one_day fl">迟到车辆</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:100%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
											<li>
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="day_number clearfix">
									<div class="one_day fl">超速行驶</div>
									<div class="one_day_number fl">
										<ul class="clearfix">
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>1</span>
													<div class="cherk_num" style="height:30%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="" data-name="总计"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>1</span>
													<div class="cherk_num" style="height:100%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="3975" data-name="涪城区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="3976" data-name="游仙区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="3977" data-name="高新区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="3978" data-name="经开区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="3979" data-name="科创园区"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="3980" data-name="科学城"></div>
												</div>
											</li>
											<li onmouseover="isEdit(this)" onmouseout="isEdit_(this)" class="edit_num_li">
												<div class="cherk_zhu"><span>0</span>
													<div class="cherk_num" style="height:0%;"></div>
													<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="3981" data-name="仙海区"></div>
												</div>
											</li>
										</ul>
									</div>
								</div>
							</div>
							<!-- 异常情况 -->
							<div class="chu_qin kao_he fl" id="abnormal" style="display: none;">
								<div class="day_number clearfix">
									<div class="one_day fl">今天</div>
									<div class="one_day_number fl">
										<ul class="clearfix e_massage">
											<li>
												<div class="unusual_tu ">
													<div class="yi_chang1" style="height:35%;"></div>
													<div class="yi_chang2" style="height:75%;"></div>
													<div class="yi_chang3" style="height:45%;"></div>
													<div class="yi_chang4" style="height:95%;"></div>

												</div>
												<!-- 看板hover悬浮效果 -->
												<div class="xuan_fu">
													<div class="all_massage">
														<div class="foot_right_dian1"></div>
														<span class="yi_cha">脱岗</span><span class="num_people">8人</span>
													</div>
													<div class="all_massage">
														<div class="foot_right_dian2"></div>
														<span class="yi_cha">违规停留</span><span class="num_people">8人</span>
													</div>
													<div class="all_massage">
														<div class="foot_right_dian3"></div>
														<span class="yi_cha">未戴设备</span><span class="num_people">8人</span>
													</div>
													<div class="all_massage">
														<div class="foot_right_dian4"></div>
														<span class="yi_cha">设备异常</span><span class="num_people">8人</span>
													</div>

													<p class="san_j"></p>
												</div>
											</li>

											<li>
												<div class="unusual_tu ">
													<div class="yi_chang1" style="height:35%;"></div>
													<div class="yi_chang2" style="height:75%;"></div>
													<div class="yi_chang3" style="height:45%;"></div>
													<div class="yi_chang4" style="height:95%;"></div>

												</div>
												<!-- 看板hover悬浮效果 -->
												<div class="xuan_fu">
													<div class="all_massage">
														<div class="foot_right_dian1"></div>
														<span class="yi_cha">脱岗</span><span class="num_people">8人</span>
													</div>
													<div class="all_massage">
														<div class="foot_right_dian2"></div>
														<span class="yi_cha">违规停留</span><span class="num_people">8人</span>
													</div>
													<div class="all_massage">
														<div class="foot_right_dian3"></div>
														<span class="yi_cha">未戴设备</span><span class="num_people">8人</span>
													</div>
													<div class="all_massage">
														<div class="foot_right_dian4"></div>
														<span class="yi_cha">设备异常</span><span class="num_people">8人</span>
													</div>

													<p class="san_j"></p>
												</div>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>

						<div class="footer clearfix" style="display: none;">
							<!-- 分页 -->
							<div class="foot_dian clearfix attendance_page"></div>
							<div class="foot_dian clearfix mark_page " style="display: none;"></div>
							<div class="foot_dian clearfix abnormal_page" style="display: none;"></div>

							<ul class="foot_right clearfix fr" style="display: none;">
								<li>
									<div class="foot_right_dian1"></div>
									<span>脱岗</span>
								</li>
								<li>
									<div class="foot_right_dian2"></div>
									<span>违规停留</span>
								</li>
								<li>
									<div class="foot_right_dian3"></div>
									<span>网络异常</span>
								</li>
								<li>
									<div class="foot_right_dian4"></div>
									<span>关机</span>
								</li>
							</ul>
						</div>

					</div>
				</div>
			</div>
		</div>

		<!-- admin 个人资料 模态框-->
		<div class="modal fade admin_position" id="ziliao_change" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog " role="document" style="margin-top:82px;">
				<div class="modal-content admin_modal_body">
					<div class="modal-header" style="margin-top:-22px;">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
						<br>
						<h4 class="modal-title text-center " id="myModalLabel" style="font-weight:900;font-size:16px;opacity:0.9;">个人资料</h4>
					</div>

					<div class="modal-body admin_biao_dan ">
						<div class="tu_xiang" style="width:100px;height:100px;margin:0 auto;position: relative;border-radius:50%;overflow: hidden;">
							<div class="tu_people" style="width:100px;height:100px;background:url(/../images/B1477.png); 
                    background-size: 100% 100%;"></div>

						</div>
						<input type="file" class="local_host_file" style="display: none">
						<div class="admin_name col-xs-12">
							<div class="col-xs-4 ">名称：</div>
							<div class="col-xs-6 eye_open">
								<input type="text" id="loginFullname" readonly="">
							</div>
						</div>
						<div class="admin_count col-xs-12">
							<div class="col-xs-4 ">账号：</div>
							<div class="col-xs-6 eye_open">
								<input type="text" id="loginId" readonly="">
							</div>
						</div>
						<div class="old_mi_ma col-xs-12">
							<div class="col-xs-4">旧密码：</div>
							<div class="col-xs-6 eye_open">
								<input type="password" id="oldPwd">
								<span class="glyphicon glyphicon-eye-open" id="oldPwdE" style="top:9px;left:85%;cursor: pointer;"></span>
							</div>
						</div>
						<div class="new_mi_ma col-xs-12">
							<div class="col-xs-5 ">新密码：</div>
							<div class="col-xs-6 eye_open">
								<input type="password" id="newPwd">
								<span class="glyphicon glyphicon-eye-open" id="newPwdE" style="top:9px;left:85%;cursor: pointer;"></span>
							</div>
						</div>
					</div>
					<div class="tow_btn">
						<span class="btn_blue col-xs-12" id="changePsd">保存</span>
						<span data-dismiss="modal" class="btn  col-xs-12 btn_nor">取消</span>
					</div>
				</div>
			</div>
		</div>
		<script>
			$("#changePsd").click(function(event) {
				// $('#loginFullname').val();
				// $('#loginId').val();
				//$('#oldPwd').val();
				//$('#newPwd').val();

			});
		</script>

		<script>
			// 获取cookie
			function getcookie(objname) { //获取指定名称的cookie的值
				var arrstr = document.cookie.split("; ");
				for(var i = 0; i < arrstr.length; i++) {
					var temp = arrstr[i].split("=");
					if(temp[0] == objname) return unescape(temp[1]);
				}
			}
			//console.log('cookie', JSON.parse(getcookie('member')) );
		</script>

		<script type="text/javascript">
			// admin模态 密码眼睛 -->
			$(document).ready(function() {
				function toggleText(sel) {
					$(sel).click(function(event) {
						var input = $(this).prev('input');
						if(input.attr("type") == 'password') {
							input.attr("type", "text");
						} else {
							input.attr("type", "password");
						}
					});
				}

				toggleText('#newPwdE');
				toggleText('#oldPwdE');
			});
			//admin 资料修改 取消按钮
			$('.tow_btn button').eq(1).click(function() {
				$(".admin_position").modal("hide");
			})
			var modal_y = ($(window).height() - $('.admin_modal_body').height()) / 2.3;
			var modal_x = ($(window).width() - $('.admin_modal_body').width()) / 2;
			$('.tan_chuang').click(function() {
				//$('.admin_modal_body').css({'top':modal_y});
			})
			$('.change_word').click(function() {
				$('.local_host_file').click();
			})
		</script>

		<link href="../css/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet">
		<script type="text/javascript" src="../js/bootstrap-datetimepicker.min.js"></script>
		<!--<script type="text/javascript" src="../js/bootstrap-datetimepicker.zh-CN.js"></script>-->
		<script src="../js/jquery.mousewheel.js"></script>
		<script src="../js/laydate.js"></script>
		<link rel="stylesheet" href="../css/laydate(1).css">
		<!-- 看板js -->
		<script>
			// getTime('year');
			var dateStart = getTime('year'); //'2018-02-07';
			var dateEnd = getTime('year');
			$('#time_num').val(dateStart + ' 至 ' + dateEnd);
			dateEnd = '';
			console.log(dateEnd, dateEnd, dateEnd, 'dateEnddateEnd');
			laydate.render({
				elem: '#time_num', //指定元素
				theme: '#0E3991',
				range: "至",
				ready: function(date) {
					console.log(date); //得到初始的日期时间对象：{ year: 2017, month: 8, date: 18, hours: 0, minutes: 0, seconds: 0}
					$('.laydate-btns-clear').css("display", "none")
				},
				done: function(date) {
					date = date.split(' 至 ');
					// timeChange(date[0],date[1]);
					dateEnd = date[1];
					dateStart = date[0];
					console.log('头部日期', dateStart, dateEnd);
					if(dateStart == dateEnd) {
						dateEnd = '';
					}
					all_data();

				}
			});

			// 修改人数
			function change_num(obj) {

				var type = $(obj).attr('data-type');
				var id = $(obj).attr('data-id');
				var name = $(obj).attr('data-name');
				var sdrs = $(obj).attr('data-sdrs');
				console.log(type);
				console.log(id)
				bootbox.confirm({
					title: "<p class='text-center change_num' >" + name + "</p>",
					buttons: {
						confirm: {
							label: '确认',
							className: 'btn_blue'
						},
						cancel: {
							label: '取消',
							className: 'btn-default'
						}
					},
					message: '<div class="text-center">' +
						'<p style="margin-top:30px;">' + ((type == 1) ? '休假人数' : (type == 2) ? '设备维修数' : '应到人数') + '：<input type="text" class="form-control input_search change_num_input" style="background:#fff;width:50px;"/>' + ((type == 2) ? '个' : '人') + '</p>' +
						'</div>',
					callback: function(result) {
						//确认提交 
						if(result) {
							$('html,body').css({
								overflow: 'hidden'
							})
							$('.modal').css('overflow', 'auto');
							var num = $('.change_num_input').val();
							if(num >= 0 == false) {
								bootbox.alert({
									message: "请输入有效人数！",
									closeButton: false
								});
								return false;
							}
							if(type == 1) {
								var up_data = {
									"action": "/board/updateBoard",
									"id": id,
									"xj": num,

								};
							} else if(type == 2) {
								var up_data = {
									"action": "/board/updateBoard",
									"id": id,
									"sbwxs": num
								};
							} else {
								var up_data = {
									"action": "/board/updateBoard",
									"id": id,
									"ydrs": num,
									'sdrs': sdrs
								};
							}
							
						} else {
							$('html,body').css({
								overflow: 'hidden'
							})
							$('.modal').css('overflow', 'auto');
						}
					}
				});
				$('.change_num').parents('.bootbox-confirm').addClass('change_num_boot');
			}
			// 是否可编辑
			function isEdit(obj) {
				console.log(dateEnd);
				if('' == dateEnd) {
					$(obj).find('.edit_num').css('display', 'inline-block');
				}
			}

			function isEdit_(obj) {
				// console.log(1111111111);
				$(obj).find('.edit_num').css('display', 'none');
			}

			// 判断是否是环卫处显示看板

			var all_data_index = $('.change_time .mo_ren').attr('data-index');
			all_data();

			function all_data(obj) {
				//看板 tap切换 显示数据时间段（环卫处权限）
				var obj = obj ? obj : '';
				$(obj).addClass('mo_ren').siblings('.tap_find').removeClass('mo_ren');
				all_data_index = $('.change_time .mo_ren').attr('data-index');

				// 3 月 2周 1日
				var data_num = '';
			}

			function add_all_data(data_num) {
				// see_header(1);
				if(level == 0) { //环卫处
					$('.shebei_all,.xiujia_all').css("display", 'block');

					$('.change_time').removeClass('hide');
					$('#attendance').css('display', 'none');
					$('#mark').css('display', 'block');
					$('#abnormal').css('display', 'none');
					$('.footer').css('display', 'none');

					// 加载默认数据
					var all_pjgls = [], //平均公里
						all_sbwxs = [], //设备维修
						all_sbyc = [], //设备异常
						all_tg = [], //脱岗
						all_wgtl = [], //违规停留
						all_xj = [], //休假
						all_zgl = []; //在岗率
					all_zgqk = []; //在岗情况
					all_ydrs = []; //应到人数
					all_sdrs = []; //实到人数

					var company = '';

					$.each(data_num, function(k, v) {
						// console.log(v);
						// console.log(v.areaName);
						company += '<li title="' + v.areaName + '">' + v.areaName + ' </li>';

						// all_pjgls.push( {num:data_num[k].pjgls,percent: data_num[k].pjglsPercent.toFixed(0)} );
						// all_sbwxs.push( {id:data_num[k].id,num:data_num[k].sbwxs,percent:data_num[k].sbwxsPercent.toFixed(0),name:data_num[k].areaName} );
						// all_sbyc.push({num:data_num[k].sbyc,percent:data_num[k].sbycPercent.toFixed(0)} );
						// all_tg.push( {num:data_num[k].tg,percent:data_num[k].tgPercent.toFixed(0)} );
						// all_wgtl.push({num:data_num[k].wgtl,percent:data_num[k].wgtlPercent.toFixed(0)} );
						// all_xj.push( {id:data_num[k].id,num:data_num[k].xj,percent:data_num[k].xjPercent.toFixed(0),name:data_num[k].areaName} );

						// all_zgqk.push({num:data_num[k].zgqk,percent:data_num[k].zgqkPercent.toFixed(0)} );
						// all_ydrs.push({id:data_num[k].id,num:data_num[k].ydrs,num_:data_num[k].sdrs,percent:data_num[k].ydrsPercent.toFixed(0),name:data_num[k].areaName} );
						// all_sdrs.push({num:data_num[k].sdrs,percent:data_num[k].sdrsPercent.toFixed(0)} );
						// 
						all_pjgls.push({
							num: data_num[k].pjgls,
							percent: data_num[k].pjglsPercent
						});
						all_sbwxs.push({
							id: data_num[k].id,
							num: data_num[k].arriveLate,
							percent: data_num[k].arriveLatePercent,
							name: data_num[k].areaName
						});
						all_sbyc.push({
							num: data_num[k].leaveEarly,
							percent: data_num[k].leaveEarlyPercent
						});
						all_tg.push({
							num: data_num[k].tg,
							percent: data_num[k].tgPercent,
							areaId: data_num[k].areaId
						});
						console.log(data_num[k].areaId);
						all_wgtl.push({
							num: data_num[k].wgtl,
							percent: data_num[k].wgtlPercent
						});
						// 休假改成作业里程异常
						all_xj.push({
							id: data_num[k].id,
							areaName: data_num[k].areaName,
							num: data_num[k].kilo,
							percent: data_num[k].kiloPercent,
							name: data_num[k].areaName
						});

						all_zgqk.push({
							num: data_num[k].zgqk,
							percent: data_num[k].zgqkPercent
						});
						all_ydrs.push({
							id: data_num[k].id,
							num: data_num[k].ydrs,
							num_: data_num[k].sdrs,
							percent: data_num[k].ydrsPercent,
							name: data_num[k].areaName
						});
						all_sdrs.push({
							num: data_num[k].sdrs,
							percent: data_num[k].sdrsPercent
						});

					});
					$('.company_list_name ul').html(company);

					// console.log("all_pjgls",all_pjgls,
					//             "all_sbwxs",all_sbwxs,
					//             "all_sbyc ",all_sbyc ,
					//             "all_tg   ",all_tg   ,
					//             "all_wgtl ",all_wgtl ,
					//             "all_xj   ",all_xj   ,
					//             "all_zgl  ",all_zgl  );
					var all_pjgls_html = '';
					var all_sbwxs_html = '';
					var all_sbyc_html = '';
					var all_tg_html = '';
					var all_wgtl_html = '';
					var all_xj_html = '';

					var all_zgqk_html = ''; //在岗率修改成应到人数 实到人数  在岗率
					var all_ydrs_html = '';
					var all_sdrs_html = '';
					// 在岗率
					// $.each(all_zgl,function(k,v){
					//     all_zgl_html+='<li><div id="all_data_'+k+'"></div></li>' ;
					// });
					// 在岗情况
					$.each(all_zgqk, function(k, v) {
						all_zgqk_html += '<li>' +
							'<div class="cherk_zhu">' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +
							'<span>' + v.num + '</span>' +
							'</div>' +
							'</div>' +
							'</li>';
					});
					// 应到人数
					$.each(all_ydrs, function(k, v) {
						// all_ydrs_html+=   '<li>' +
						//                     '<div class="cherk_zhu">' +
						//                         '<div class="cherk_num" style="height:'+v.percent+'%;">' +
						//                             '<span>'+v.num+'人</span>' +
						//                         '</div>' +
						//                     '</div>' +
						//                 '</li>' ;
						all_ydrs_html += '<li  onmouseover="isEdit(this)" onmouseout="isEdit_(this)"  class="edit_num_li">' +
							'<div class="cherk_zhu">' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +
							'<span>' + v.num + '</span>' +
							'</div>' +
							'<div class="edit_num" onclick="change_num(this)" data-type="3" data-id="' + v.id + '" data-sdrs=' + v.num_ + ' data-name="' + v.name + '"></div>' +
							'</div>' +
							'</li>';

					});
					// 实到人数
					$.each(all_sdrs, function(k, v) {
						all_sdrs_html += '<li>' +
							'<div class="cherk_zhu">' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +
							'<span>' + v.num + '</span>' +
							'</div>' +
							'</div>' +
							'</li>';
					});

					// 脱岗
					$.each(all_tg, function(k, v) {
						all_tg_html += '<li>' +
							'<a href="/manage/unusual/index.html?areaId=' + v.areaId + '">' +
							'<div class="cherk_zhu">' +
							'<span>' + v.num + '</span>' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +

							'</div>' +
							'</div>' +
							'</a>' +
							'</li>';
					});
					// 休假 => 作业里程异常
					$.each(all_xj, function(k, v) {
						console.log('休假', escape(v.areaName));
						var name = escape(v.areaName);
						all_xj_html +=

							'<li  class="edit_num_li" onmouseover="isEdit(this)" onmouseout="isEdit_(this)">' +
							'<div class="cherk_zhu">' +
							'<a style="color:red;" href="/manage/unusual/weidabiao.html?areaName=' + name + '">' +
							'<span>' + v.num + '</span>' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +

							'</div>' +
							'</a>' +
							// '<div class="edit_num" onclick="change_num(this)" data-type="1" data-id="'+v.id+'" data-name="'+v.name+'"></div>'+
							'</div>' +
							'</li>';
					});
					// 违规停留
					$.each(all_wgtl, function(k, v) {
						all_wgtl_html += '<li>' +
							'<div class="cherk_zhu">' +
							'<span>' + v.num + '</span>' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +

							'</div>' +
							'</div>' +
							'</li>';
					});
					// 设备异常
					$.each(all_sbyc, function(k, v) {
						all_sbyc_html += '<li>' +
							'<div class="cherk_zhu">' +
							'<span>' + v.num + '</span>' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +

							'</div>' +
							'</div>' +
							'</li>';
					});
					// 平均公里数
					$.each(all_pjgls, function(k, v) {
						all_pjgls_html += '<li>' +
							'<div class="cherk_zhu">' +
							'<span>' + v.num + '</span>' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +

							'</div>' +
							'</div>' +
							'</li>';
					});
					//设备维修数
					$.each(all_sbwxs, function(k, v) {
						all_sbwxs_html += '<li  onmouseover="isEdit(this)" onmouseout="isEdit_(this)"  class="edit_num_li">' +
							'<div class="cherk_zhu">' +
							'<span>' + v.num + '</span>' +
							'<div class="cherk_num" style="height:' + v.percent + '%;">' +

							'</div>' +
							'<div class="edit_num" onclick="change_num(this)" data-type="2" data-id="' + v.id + '" data-name="' + v.name + '"></div>' +
							'</div>' +
							'</li>';
					});

					var html =
						// '<div class="day_number clearfix">' +
						//     '<div class="one_day fl">在岗率</div>' +
						//     '<div class="one_day_number fl">' +
						//         '<ul class="clearfix">' +
						//             all_zgl_html+
						//         '</ul>' +
						//     '</div>' +
						// '</div>'+ all_zgqk_html+all_ydrs_html+ all_sdrs_html

						'<div class="day_number clearfix">' +
						'<div class="one_day fl">应到人数</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_ydrs_html +
						'</ul>' +
						'</div>' +
						'</div>' +

						'<div class="day_number clearfix">' +
						'<div class="one_day fl">实到人数</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_sdrs_html +
						'</ul>' +
						'</div>' +
						'</div>' +

						'<div class="day_number clearfix">' +
						'<div class="one_day fl">缺勤</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_zgqk_html +
						'</ul>' +
						'</div>' +
						'</div>' +

						'<div class="day_number clearfix">' +
						'<div class="one_day fl">脱岗</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_tg_html +
						'</ul>' +
						'</div>' +
						'</div>' +

						'<div class="day_number clearfix">' +
						'<div class="one_day fl">违规停留</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_wgtl_html +
						'</ul>' +
						'</div>' +
						'</div>' +

						// 休假改成 作业里程异常
						'<div class="day_number clearfix">' +
						'<div class="one_day fl">作业里程异常</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_xj_html +
						'</ul>' +
						'</div>' +
						'</div>' +

						// 关机 => 迟到
						'<div class="day_number clearfix">' +
						'<div class="one_day fl">迟到</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_sbyc_html +
						'</ul>' +
						'</div>' +
						'</div>' +

						// '<div class="day_number clearfix">' +
						//     '<div class="one_day fl">平均公里数</div>' +
						//     '<div class="one_day_number fl">' +
						//         '<ul class="clearfix">' +
						//             all_pjgls_html+
						//         '</ul>' +
						//     '</div>' +
						// '</div>'+
						// 设备维修书 =》早退
						'<div class="day_number clearfix">' +
						'<div class="one_day fl">早退</div>' +
						'<div class="one_day_number fl">' +
						'<ul class="clearfix">' +
						all_sbwxs_html +
						'</ul>' +
						'</div>' +
						'</div>';

					$('#mark').html(html);
					// $.each(all_zgl,function(k,v){
					//     var myChart = echarts.init(document.getElementById("all_data_"+k));
					//     chuan(v.num,myChart,'#ff9900' ,v.num+'%\n');
					// });

				} else {
					$('.change_item').removeClass('hide');
					$('#attendance').css('display', 'block');
					$('#mark').css('display', 'none');
					$('#abnormal').css('display', 'none');
					// 默认加载的数据
					abnormal();
					mark(1);
					get_attendance();
					get_company_name(1);

				}
			}

			// 看板--环卫处特有看板--导出：
			function checkOut_all_data() {
				/*$.get('/manage/home/getData/get', {
						"action": "/board/exportBoard?dateStart=" + dateStart + "&dateEnd=" + dateEnd,
					},
					function(res) {
						var a = document.createElement('a');
						a.setAttribute('href', res.data);
						a.setAttribute('download', "");
						a.setAttribute('style', 'display:none');
						a.setAttribute('target', '_blank');
						document.body.appendChild(a);
						a.click();
						a.parentNode.removeChild(a);

					}, 'json');*/
			}

			// 组织结构的数据处理
			var tt;
			tt = setInterval(function() {
				if(organize) {
					//console.log(11133,organize);
					add_organ();
					clearInterval(tt);
				}
			}, 100);

			function add_organ() {
				var company = group_lists = '';
				if(level == 0) {
					company += '<li data-companyId="all" onclick="get_id(this,event)" class="s_company">全部片区</li>';
				} else {
					$('.top_name').html(organize.items[0].oName + '公司 <span class="fa fa-angle-down"></span>');
				}
				console.log('组织机构', organize);
				$.each(organize.items, function(k, v_area) {

					company += '<li data-areaId="' + v_area.id + '" onclick="get_id(this,event)" class="s_company">' + v_area.oName + '<ul class="pian_qu ">';

					$.each(v_area.groupInfo, function(k, v_group) {
						company += '<li data-groupId="' + v_group.id + '" onclick="get_id(this,event)"  >' + v_group.oName + '<ul class="xiao_zu">';

						company += '</ul>' + '<div></div>' + '</li>';
					});

					company += '</ul>' + '<div><img src="/../images/right_2.png" alt="" /></div>' + '</li>';
				});
				$('.wang_ss').html(company);
			}

			//看板 tap切换 显示数据的类型
			$('.change_item .tap_find').click(function() {
				$(this).addClass('mo_ren').siblings('.tap_find').removeClass('mo_ren');
				$('.chu_qin').eq($(this).index()).show().siblings('.chu_qin').hide();
				$('.foot_dian').eq($(this).index()).show().siblings('.foot_dian').hide();
				var left = $('.chu_qin').eq($(this).index()).find('.one_day_number').css('left');
				// alert(left);
				$('.company_list_name').css('left', left);
				// alert($(this).index())
				if($(this).index() == 2) {
					$('.foot_right').show();
				} else {
					$('.foot_right').hide();
				}
			})

			// 下拉
			$('.down_select p').click(function() {
				$('.my_select').toggle();

				$('.pian_qu').each(function() {
					if($(this).children('li').length == 1) {
						$(this).children('li').css('border-radius', '5px');
					}
				})
			})
			$('.down_select').mouseleave(function() {
				$('.my_select').hide();
			});

			var head_organ = {
				level: 0,
				companyId: '',
				areaId: "",
				groupId: ""
			}

			function get_id(obj, e) {
				var isAll = $(obj).attr('data-companyid') == "all" ? true : false;
				if(isAll) {
					all_data();
					$('.change_item').addClass('hide');
					$('#attendance').css('display', 'none');
					$('#mark').css('display', 'block');
					$('#abnormal').css('display', 'none');
					$('.shebei_all,.xiujia_all').css("display", 'block');
					return false;
				} else {
					$('.change_time').addClass('hide');
					$('.change_item').removeClass('hide');
					$('#attendance').css('display', 'block');
					$('#mark').css('display', 'none');
					$('#abnormal').css('display', 'none');
					$('.footer').css('display', 'none');
					$('.shebei_all,.xiujia_all').css("display", 'none');
				}

				$('.my_select').css('display', 'none');
				$('.company_list_name').css('left', 0);
				isAbnormalPage = false;
				isMarkPage = false;
				isAttendancPage = false;
				attendancePage = 1;
				markPage = 1;
				abnormalPage = 1;
				e.stopPropagation();
				head_organ.companyId = $(obj).attr('data-companyid') ? $(obj).attr('data-companyid') : '';
				head_organ.areaId = $(obj).attr('data-areaid') ? $(obj).attr('data-areaid') : '';
				head_organ.groupId = $(obj).attr('data-groupid') ? $(obj).attr('data-groupid') : '';

				if(head_organ.companyId) head_organ.level = 1;
				if(head_organ.areaId) head_organ.level = 2;
				if(head_organ.groupId) head_organ.level = 3;
				if(head_organ.companyId == 'all') {
					head_organ.level = 0;
					head_organ.companyId = '';
				}
				//console.log(head_organ );
				// see_header();

				$('#abnormal').html('');
				$('#mark').html('');
				$('#attendance').html('');

				mark();
				get_attendance();
				get_company_name(1);
				abnormal();
			}

			// 看板头部数据
			function see_header(isSome) {
				
			}
			var nameNum = 0;

			function get_company_name(page) {
				
			}

			// （在岗率图） 比例 父级 颜色 文字 
			function chuan(work, dd, se1, num) {
				var option = {
					// 图表1
					title: {
						show: true, //显示策略，默认值true,可选为：true（显示） | false（隐藏）
						text: '', //主标题文本，'\n'指定换行
						link: '', //主标题文本超链接,默认值true
						target: null, //指定窗口打开主标题超链接，支持'self' | 'blank'，不指定等同为'blank'（新窗口）
						subtext: num,
						sublink: '', //副标题文本超链接
						subtarget: null, //指定窗口打开副标题超链接，支持'self' | 'blank'，不指定等同为'blank'（新窗口）
						x: 'center', //水平安放位置，默认为'left'，可选为：'center' | 'left' | 'right' | {number}（x坐标，单位px）
						y: 'bottom', //垂直安放位置，默认为top，可选为：'top' | 'bottom' | 'center' | {number}（y坐标，单位px）
						textAlign: null, //水平对齐方式，默认根据x设置自动调整，可选为： left' | 'right' | 'center
						backgroundColor: 'rgba(0,0,0,0)', //标题背景颜色，默认'rgba(0,0,0,0)'透明
						borderColor: '#ccc', //标题边框颜色,默认'#ccc'
						borderWidth: 0, //标题边框线宽，单位px，默认为0（无边框）
						itemGap: -15, //主副标题纵向间隔，单位px，默认为10
						textStyle: { //主标题文本样式{"fontSize": 18,"fontWeight": "bolder","color": "#333"}
							// fontFamily: 'Arial',
							fontSize: 12,
							fontStyle: 'normal',
							fontWeight: 'normal',
							color: "#fff"
						},
						subtextStyle: { //主标题文本样式{"fontSize": 18,"fontWeight": "bolder","color": "#333"}
							// fontFamily: 'Arial',
							fontSize: 13,
							fontStyle: 'normal',
							fontWeight: 'normal',
							color: "#fff"
						},

						zlevel: 0, //一级层叠控制。默认0,每一个不同的zlevel将产生一个独立的canvas，相同zlevel的组件或图标将在同一个canvas上渲染。zlevel越高越靠顶层，canvas对象增多会消耗更多的内存和性能，并不建议设置过多的zlevel，大部分情况可以通过二级层叠控制z实现层叠控制。
						z: 6, //二级层叠控制，默认6,同一个canvas（相同zlevel）上z越高约靠顶层。
					},
					color: ['#666768', se1],

					// hover悬浮效果
					// tooltip: {
					//         trigger: 'item'
					//         ,
					//         formatter: "{a} <br/>{b}: {c} ({d}%)"
					//     },
					legend: {
						orient: 'vertical',
						x: 'left',
					},
					series: [{
						name: '出勤情况',
						type: 'pie',
						radius: ['45%', '65%'],
						//                  radius: ['50%', '72%'],
						//                  radius: ['40%', '62%']
						avoidLabelOverlap: false,
						label: {
							normal: {
								show: false,
								position: 'center'
							},
							emphasis: {
								show: true,
								textStyle: {
									fontSize: '30',
									fontWeight: 'bold'
								}
							}
						},
						labelLine: {
							normal: {
								show: false
							}
						},
						data: [{
								value: (100 - parseInt(work)),
								name: ''
							},
							{
								value: work,
								name: ''
							},
						]
					}]
				};
				dd.setOption(option);
			}
			// var myChart = echarts.init(document.getElementById('bing_tu'));
			// // 看板二传参
			// chuan("",79,3,myChart,'#ff9900','#666768' ,'90%\n',-15,'45%','65%');

			/*图表hover效果*/
			$('.right_point1 li').mouseenter(function(event) {
				$('.kehu_company1').eq($(this).index()).show().siblings('.kehu_company1').hide();
				$(this).addClass('active').siblings('li').removeClass('active')
			});
			$('.right_point2 li').mouseenter(function(event) {
				$('.kehu_company2').eq($(this).index()).show().siblings('.kehu_company2').hide();
				$(this).addClass('active').siblings('li').removeClass('active')
			});

			// 在岗率
			var isAttendancPage = false;
			var attendancePage = 1;
			var attendanceLoading = false;

			function get_attendance() {
				attendanceLoading = true;
			}
			// get_attendance();

			// 考核分数（数据）
			var markPage = 1;
			var isMarkPage = false;
			var markLoading = false;

			function mark(page) {
				markLoading = true;
			}
			// mark(1);

			// 异常情况（数据）
			var abnormalPage = 1;
			var abnormalLoading = false;
			var isAbnormalPage = false;

			function abnormal(page) {
				abnormalLoading = true;
			}
			// abnormal();

			// 添加分页
			function add_page(obj, total, pageSize, fun) {
				//console.log(obj,'分页');
				if(total / pageSize <= 1) {
					return false;
				}
				page_num = Math.ceil(total / pageSize);
				var page_html =
					'<ul class="page">' +
					'<li class="prev "> < </li>';
				for(var i = 0; i < page_num; i++) {
					if(i == 0) {
						page_html +=
							'<li date-page="' + (i + 1) + '" class="dot active"></li>';
					} else {
						page_html +=
							'<li date-page="' + (i + 1) + '" class="dot"></li>';
					}
				}
				page_html +=
					'<li class="next "> > </li>' +
					'</ul>';
				//console.log(obj,page_html,'分页');
				$(obj).html(page_html);
				$(obj).find(".dot").click(function(event) {
					$(this).addClass('active').siblings('.dot').removeClass('active');
					var page = parseInt($(obj).find(".active").attr('date-page')) - 1;
					var index = $(obj).index()
					$('.biao_kuang .chu_qin').eq(index).find('.one_day_number').css('left', -(page * 115 * 10));
					$('.company_list_name').css('left', -(page * 115 * 10));
				});

				$(obj).find('.prev').click(function(event) {
					if($(obj).find(".dot").first().hasClass('active')) {
						return;
					}
					$(obj).find(".active").removeClass('active').prev('.dot').addClass('active');

					var page = parseInt($(obj).find(".active").attr('date-page')) - 1;
					var index = $(obj).index()
					$('.biao_kuang .chu_qin').eq(index).find('.one_day_number').css('left', -(page * 115 * 10));
					$('.company_list_name').css('left', -(page * 115 * 10));
				});

				$(obj).find('.next').click(function(event) {
					if($(obj).find(".dot").last().hasClass('active')) {
						return;
					}
					$(obj).find(".active").removeClass('active').next('.dot').addClass('active');

					var page = parseInt($(obj).find(".active").attr('date-page')) - 1;
					var index = $(obj).index();
					$('.biao_kuang .chu_qin').eq(index).find('.one_day_number').css('left', -(page * 115 * 10));
					$('.company_list_name').css('left', -(page * 115 * 10));

				});

			}

			//在岗率 滚动分页
			$('#attendance').scroll(function() {
				var srollPos = $('#attendance').scrollTop(); //滚动条距顶部距离(页面超出窗口的高度)  
				var allHeight = $(this).find('.day_number').size() * 100;
				var parentHeight = $(this).height();
				var bottomHeight = (allHeight - srollPos - parentHeight)
				if(bottomHeight < 100 && !attendanceLoading) {
					get_attendance();
				}
			});

			//考核分数 滚动分页
			$('#mark').scroll(function() {
				var srollPos = $('#mark').scrollTop(); //滚动条距顶部距离(页面超出窗口的高度)  
				var allHeight = $(this).find('.day_number').size() * 100;
				var parentHeight = $(this).height();
				var bottomHeight = (allHeight - srollPos - parentHeight)
				if(bottomHeight < 100 && !markLoading) {
					mark();
				}
			});

			//异常情况 滚动分页
			$('#abnormal').scroll(function() {
				var srollPos = $('#abnormal').scrollTop(); //滚动条距顶部距离(页面超出窗口的高度)  
				var allHeight = $(this).find('.day_number').size() * 100;
				var parentHeight = $(this).height();
				var bottomHeight = (allHeight - srollPos - parentHeight)
				if(bottomHeight < 100 && !abnormalLoading) {
					//console.log('加载');
					abnormal();
				}
			});
		</script>
		<div class="container">
			<link href="../css/manage_admin.css" rel="stylesheet" type="text/css">
			<div class="btns_nav">
				<ul style="display:inline"> 
			        <li class="active ">
			            <a href="/common/system_a" class=""></a>
			        </li>
			        <li class=" ">
			            <a href="/common/system_b" class=""></a>
			        </li>
			        <li class=" ">
			            <a href="/fence/system_c" class=""></a>
			        </li>
			         <li class=" ">
			            <a href="/driver/system_d" class=""></a>
			        </li>
			        <li class=" ">
			            <a href="/department/system_e" class=""></a>
			        </li>
			        <li class=" ">
			        	<a href="/car/system_f" class=""></a>
			        </li>
			        <li class=" ">
			        	<a href="/common/system_g" class=""></a>
			        </li>
			    </ul>
			</div>
			<div class="content over renwu">
				<div class="content_head">
					<span class="active m" onclick="javascript:window.location='/common/system_a';">排班管理</span>
					<span class=" d" onclick="javascript:window.location='/common/system_aa';">排班表</span>
				</div>
				<div class="row content_body">
					<div class="col-xs-2 organ">
						<div class="organ_title">
							组织架构
						</div>
						<ul id="menuTree" class="menuTree scroll">
							<div class="all">
								<span class="bloc active open" data-blocid="1" onclick="choose_organ(this)">
				            		<img src="../images/close_hover.png" class="right">
				            		<img src="../images/file.png">绵阳市
								</span>
								<div class="area" style="display: block;">
									<span data-areaid="96" onclick="choose_organ(this)">
				            			<img src="../images/close.png" class="right">
				            			<img src="../images/file.png">涪城区
									</span>
									<div class="group">
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">涪城区处理站
										</span>
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">涪城区收集站
										</span>
									</div>
									<span data-areaid="138" onclick="choose_organ(this)"> 
				            			<img src="../images/close.png" class="right">
				            			<img src="../images/file.png">游仙区
									</span>
									<div class="group">
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">游仙区收集站
										</span>
									</div>
									<span data-areaid="147" onclick="choose_organ(this)"> 
            							<img src="../images/close.png" class="right">
            							<img src="../images/file.png">高新区
									</span>
									<div class="group">
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">高新区收集站
										</span>
									</div>
									<span data-areaid="148" onclick="choose_organ(this)"> 
					            		<img src="../images/close.png" class="right">
					            		<img src="../images/file.png">经开区
									</span>
									<div class="group">
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">经开区收集站
										</span>
									</div>
									<span data-areaid="149" onclick="choose_organ(this)">
				            			<img src="../images/close.png" class="right">
				            			<img src="../images/file.png">科创园区
									</span>
									<div class="group">
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">科创园区收集站
										</span>
									</div>
									<span data-areaid="150" onclick="choose_organ(this)">
					            		<img src="../images/close.png" class="right">
					            		<img src="../images/file.png">科学城
									</span>
									<div class="group">
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">科学城收集站
										</span>
									</div>
									<span data-areaid="151" onclick="choose_organ(this)"> 
					            		<img src="../images/close.png" class="right">
					            		<img src="../images/file.png">仙海区
									</span>
									<div class="group">
										<span data-groupid="104" onclick="choose_organ(this)">
            								<img src="../images/file.png">仙海区收集站
										</span>
									</div>
							</div>
						</ul>
					</div>

					<div class="col-xs-10">
						<div class="top">
							<!--<div class="task_type" id="task_special">
								<span class="btn_default btn_yellow pull-left" data-type="0">常规任务</span>
								<span class="btn_default  pull-left" data-type="1">特殊任务</span>
							</div>-->
							&nbsp; &nbsp; &nbsp; &nbsp;
							<div class="search_box">
								<input class="form-control input_search" placeholder="输入姓名" id="ename">
								<span class="search_over"></span>
							</div>

							<span id="export" class="btn_exporty btn_blue pull-right"> 导出</span>
							<span id="setMany" class="btn_blue pull-right btn_setting" data-toggle="modal" data-target="#setting" style="margin-right: 20px; display: none;" onclick="setManyWork()"> 批量排班设置</span>
						</div>
						<table class="table table-hover">
							<thead>
								<tr>
									<!--<th class="text-center form-inline">
										<input type="checkbox" onclick="check_all(this)">
									</th>-->
									<th class="text-center">姓名</th>
									<th class="text-center">所属区域</th>
									<th class="text-center">所属部门</th>
									<th class="text-center">起始日期</th>
									<th class="text-center dropdown ">
										<div class="dropdown-toggle" data-toggle="dropdown">
											班次循环<img src="../images/fa-chevron-down.png">
										</div>
										<ul class="dropdown-menu" id="task_loop">
											<li data-type=""> 全部 </li>
											<li data-type="1"> 一天一循环 </li>
											<li data-type="2"> 二天一循环 </li>
											<li data-type="3"> 三天一循环 </li>
											<li data-type="4"> 四天一循环 </li>
											<li data-type="5"> 五天一循环 </li>
											<li data-type="6"> 六天一循环 </li>
											<li data-type="7"> 七天一循环 </li>
											<li data-type="8"> 八天一循环 </li>
											<li data-type="9"> 九天一循环 </li>
											<li data-type="10">十天一循环 </li>
											<li data-type="11">十一天一循环</li>
											<li data-type="12">十二天一循环</li>
											<li data-type="13">十三天一循环</li>
											<li data-type="14">十四天一循环</li>
											<li data-type="15">十五天一循环</li>

										</ul>
									</th>
									<th class="text-center dropdown ">
										<div class="dropdown-toggle" data-toggle="dropdown">
											班次特征 <img src="../images/fa-chevron-down.png">
										</div>
										<ul class="dropdown-menu" id="task_type">
											<li onclick="selected_task_type(this)">全部</li>
											<li onclick="selected_task_type(this)">上二休零</li>
											<li onclick="selected_task_type(this)">上一休零</li>
											<li onclick="selected_task_type(this)">上五休零</li>
											<li onclick="selected_task_type(this)">上七休零</li>
											<li onclick="selected_task_type(this)">上六休一</li>
											<li onclick="selected_task_type(this)">上三休零</li>
											<li onclick="selected_task_type(this)">上零休一</li>
											<li onclick="selected_task_type(this)">上五休二</li>
											<li onclick="selected_task_type(this)">上十二休二</li>
											<li onclick="selected_task_type(this)">上十四休零</li>
											<li onclick="selected_task_type(this)">上四休零</li>
											<li onclick="selected_task_type(this)">上八休二</li>
											<li onclick="selected_task_type(this)">上八休四</li>
											<li onclick="selected_task_type(this)">上零休二</li>
											<li onclick="selected_task_type(this)">上八休一</li>
											<li onclick="selected_task_type(this)">上一休一</li>
										</ul>
									</th>
									<th class="text-center dropdown ">
										<div class="dropdown-toggle" data-toggle="dropdown">
											排班状态 <img src="../images/fa-chevron-down.png">
										</div>
										<ul class="dropdown-menu" id="task_state">
											<li data-type="">全部</li>
											<li data-type="0">未排满</li>
											<li data-type="1">已排满</li>
											<li data-type="2">未排班</li>
										</ul>
									</th>

									<th class="text-center dropdown ">最后修改时间</th>
									<th class="text-center dropdown ">排班设置</th>
									<th class="text-center dropdown ">
										重置排班
									</th>
								</tr>
							</thead>
							<tbody class="text-center" id="lists">
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员1</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-28<br></td>
									<td></td>
									<td></td>
									<td>未排满</td>
									<td>2018-10-11 09:54:27</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员2</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-27<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>未排满</td>
									<td>2018-10-12 02:23:05</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员3</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-10-29<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-11 12:52:34</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员4</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-28<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-11 16:23:18</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员5</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-28<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-12 15:58:27</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员6</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-29<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-15 10:02:02</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员7</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-28<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-10 09:28:05</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员8</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-28<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-12 13:34:27</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员9</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-28<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-11 19:34:03</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
								<tr>
									<!--<td><input type="checkbox" onclick="check_some(this)" data-fullname="魏田香" data-userid="1" value="21"></td>-->
									<td>测试人员10</td>
									<td>涪城区</td>
									<td>涪城区收集站</td>
									<td>2018-04-28<br></td>
									<td>2天一循环</td>
									<td>上二休零</td>
									<td>已排满</td>
									<td>2018-10-11 09:55:57</td>
									<td>
										<span class="btn_default" data-id="21" data-userid="1" data-toggle="modal" data-target="#setting" onclick="eidt_setting(this)">排班设置</span>
									</td>
									<td>
										<a href="JavaScript:" style="color: #006EFF" data-id="21" onclick="delShiftsGroup(this)">重置</a>
									</td>
								</tr>
							</tbody>
						</table>
						<!--分页-->
						<nav aria-label="Page navigation" class="text-center">
							<ul class="pagination">
								<li class="active">
									<a class="curpage">1</a>
								</li>
								<li>
									<a href="javascript:getData(2)">2</a>
								</li>
								<li>
									<a href="javascript:getData(3)">3</a>
								</li>
								<li>
									<a href="javascript:getData(4)">4</a>
								</li>
								<li>
									<a href="javascript:getData(5)">5</a>
								</li>
								<li>
									<a href="javascript:getData(6)">6</a>
								</li>
								<li>
									<a href="javascript:getData(7)">7</a>
								</li>
								<li>
									<a href="javascript:getData(8)">8</a>
								</li>
								<li>
									<a href="javascript:getData(224)">»</a>
								</li>
							</ul>
						</nav>
					</div>

					<div class="modal fade" id="setting" tabindex="-1" role="dialog">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title text-center" id="setting_name"></h5>
								</div>
								<div class="modal-body ">
									<div class="setting_body">
										<div class="line" id="setting_starttime">
											<span class="left">循环起始日期：</span>
											<div class="right">
												<input class="input_time form-control" id="startTime">
											</div>
										</div>

										<div class="line" id="setting_endtime">
											<span class="left">循环结束日期：</span>
											<div class="right">
												<input class="input_time form-control" id="endtime">
											</div>
										</div>

										<div class="line setting_loop1" id="setting_loop">
											<span class="left">考勤循环：</span>
											<div class="right">
												<input type="checkbox" style="margin-right: 20px;" data-type="1" checked="">
												<select class="input_select form-control" autocomplete="off">
													<option data-size="0">请选择循环 </option>
													<option data-size="1">一天一循环 </option>
													<option data-size="2">二天一循环 </option>
													<option data-size="3">三天一循环 </option>
													<option data-size="4">四天一循环 </option>
													<option data-size="5">五天一循环 </option>
													<option data-size="6">六天一循环 </option>
													<option data-size="7">七天一循环 </option>
													<option data-size="8">八天一循环 </option>
													<option data-size="9">九天一循环 </option>
													<option data-size="10">十天一循环 </option>
													<option data-size="11">十一天一循环</option>
													<option data-size="12">十二天一循环</option>
													<option data-size="13">十三天一循环</option>
													<option data-size="14">十四天一循环</option>
													<option data-size="15">十五天一循环</option>
												</select>
											</div>
										</div>

										<div class="line setting_loop2" id="setting_loop">
											<span class="left"></span>
											<div class="right">
												<input type="checkbox" data-type="2" style="margin-right: 20px;">
												<select class="input_select form-control" autocomplete="off" disabled="true">
													<option data-size="0">请选择循环 </option>
													<option data-size="1">一月一循环 </option>
													<option data-size="2">二月一循环 </option>
													<option data-size="3">三月一循环 </option>
													<option data-size="4">四月一循环 </option>
													<option data-size="5">五月一循环 </option>
													<option data-size="6">六月一循环 </option>
													<option data-size="7">七月一循环 </option>
													<option data-size="8">八月一循环 </option>
													<option data-size="9">九月一循环 </option>
													<option data-size="10">十月一循环 </option>
													<option data-size="11">十一月一循环</option>
													<option data-size="12">十二月一循环</option>
												</select>
											</div>
										</div>

										<div class="line">
											<span class="left">循环班次：</span>
											<div class="right" id="loop_tab">
												<!-- <span class="label_default label_blue pull-left">第一班</span>
                            <span class="label_default pull-left">第二班</span>-->

											</div>
										</div>
										<div id="box"></div>

										<span class="type pull-left hide" style="font-size: 14px;">排班状态:</span>

										<div class="box pull-left hide" style="height: 180px;margin-left: 0;margin-bottom: 30px;">

											<ul class="item pull-left" id="task_precent_list">

												<!--<li>
                                <div class="p p-89"><span></span></div>
                                <span class="name">第一班</span>
                            </li>  -->

											</ul>
										</div>
									</div>
								</div>

								<div class="modal-footer">
									<div class="col-xs-10 col-xs-offset-1">
										<span type="button" class="btn_blue btn-block btn_nor " onclick="setup()">确认</span>
									</div>
									<div class="col-xs-10 col-xs-offset-1">
										<span type="button" class="btn_dismiss" data-dismiss="modal">取消</span>
									</div>
								</div>

							</div>
						</div>
					</div>
					<script type="text/javascript" src="../laydate/laydate.js"></script>
					<!--编辑排班设置结束-->
					<script type="text/javascript">
						//声明全局对象 （筛选条件）
						var conditions = {
							"taskType": 0, // 0 常规任务，1 特殊任务
							"companyId": '',
							"areaId": '',
							"groupId": "",
							"loopNum": "", // 1,2,3,4,5，。。。 数字为几，就是几班一循环
							"shiftsFeature": "", // 从 3.8.2 接口获取
							"status": "", // 0 未排满， 1 已排满， 2 未排班
							"fullName": ''
						};
						var isReturn = false;
						var loop_type = 1;
						$('#setting_loop input').click(function() {
							$('#setting_loop input').prop('checked', false);
							$(this).prop('checked', true);
							$('#setting_loop input').next('select').attr('disabled', true);
							$(this).next('select').attr('disabled', false);
							loop_type = $(this).attr('data-type');
						});

						/**

						*   加载排班设置
						 
						*/
						var id = '',
							userId = '';

						function eidt_setting(obj) {
							reset(); //重置模态框
							id = $(obj).attr('data-id');
							userId = $(obj).attr('data-userId');
						}

						/**

						 *   排班编辑

						*/
						
						function forSort(){
							var num = $(this).find('option:selected').attr('data-size');
							var loop_html = '';
							for(var i = 0; i < num; i++) {
								loop_html += '<span class="label_default pull-left" data-index=' + i + '>第' + (i + 1) + '班</span>';
							}
							// 添加选择班次按钮
							$('#loop_tab').html(loop_html);
							// 添加班次内容框
							var add_box_html = ''; //任务和时间框
							var task_precent_list = ''; //时间百分比
							for(var i = num; i <= 15; i++) {
								$('.task_box[data-index=' + i + '] ').remove();
							}

							for(var i = 0; i < num; i++) { //原有的保留
								console.log('change循环', i, $('.task_box[data-index="' + i + '"]').html());
								if(!$('.task_box[data-index=' + i + '] ').html()) {
									add_box_html +=
										'<div class="box task_box hide" data-index=' + i + ' data-new=1>' +
										'<p class="title">出勤时间设置</p>' +
										'<div class="worktime">' +
										'<p class="text-center">' +
										'<label class="dowork">' +
										'<input type="checkbox" checked > 上班' +
										'</label>' +
										'</p>' +
										'<p class="text-center">' +
										'<label class="dorest">' +
										'<input type="checkbox" > 休假' +
										'</label>' +
										'</p>' +
										'<div class="time_line">' +
										'<div class="choose_time">' +
										'<span> 上班时间：</span>' +
										'<input class="time" placeholder="选择时间" readonly>' +
										'</div> ' +
										'<div class="choose_time">' +
										'<span> 下班时间：</span>' +
										'<input class="time" placeholder="选择时间" readonly>' +
										'</div> ' +
										'<span class="del_time" onclick="del_time(this)"></span>' +
										'</div>' +
										'<p class="add add_work_time"><i class="fa fa-plus"></i> 新增一组上下班时间</p>' +
										'</div>' +
										'<p class="title">任务选择</p>' +
										'<div class="task">' +
										'<div class="time_line">' +
										'<div class="choose_time">' +
										'<span> </span>' +
										'<select class="time fence_name">' +
		
										'</select>' +
										'</div> ' +
										'<div class="choose_time">' +
										'<span>单位选则</span>' +
										'<select class="time">' +

										'</select>' +
										'</div>' +
										'<span class="del_time" onclick="del_time(this)"></span>' +
										'</div>  ' +
										'</div>' +
										'<p class="add  add_task"><i class="fa fa-plus"></i> 新增一组任务</p>' +
										'</div>';
								}
							}
							$('#task_precent_list li[data-index]').remove();

							$('.setting_body').append(add_box_html);
							$('.box[data-index]').addClass('hide');
							$('.box[data-index=1]').addClass('hide');
							$('.task_box[data-index=0]').removeClass('hide');
						}
						forSort();
						$('#setting_loop select').change(function() {
							var num = $(this).find('option:selected').attr('data-size');
							var loop_html = '';
							for(var i = 0; i < num; i++) {
								loop_html += '<span class="label_default pull-left" data-index=' + i + '>第' + (i + 1) + '班</span>';
							}
							// 添加选择班次按钮
							$('#loop_tab').html(loop_html);
							// 添加班次内容框
							var add_box_html = ''; //任务和时间框
							var task_precent_list = ''; //时间百分比
							for(var i = num; i <= 15; i++) {
								$('.task_box[data-index=' + i + '] ').remove();
							}

							for(var i = 0; i < num; i++) { //原有的保留
								console.log('change循环', i, $('.task_box[data-index="' + i + '"]').html());
								if(!$('.task_box[data-index=' + i + '] ').html()) {
									add_box_html +=
										'<div class="box task_box" style="min-height:400px;height:400px;overflow-y:auto;" data-index=' + i + ' data-new=1>' +
											'<p class="title">出勤时间设置</p>' +
											'<div class="worktime">' +
												'<p class="text-center">' +
													'<label class="dowork">' +
														'<input type="checkbox" checked > 上班' +
													'</label>' +
												'</p>' +
												'<p class="text-center">' +
													'<label class="dorest">' +
														'<input type="checkbox" > 休假' +
													'</label>' +
												'</p>' +
												'<div class="time_line">' +
													'<div class="choose_time">' +
														'<span> 上班时间：</span>' +
														'<input class="time" placeholder="选择时间" readonly>' +
													'</div> ' +
												'<div class="choose_time">' +
													'<span> 下班时间：</span>' +
													'<input class="time" placeholder="选择时间" readonly>' +
												'</div> ' +
												'<div class="choose_time2">' +
													'<span> 车辆选择：</span>' +
													'<select class="time fence_name" style="width: 135px;padding-left: 10px;padding-right: 10px;">' +
														'<option>川BTEST1</option>'+
														'<option>川BTEST2</option>'+
													'</select>' +
												'</div> ' +
												'<div class="choose_time3">' +
													'<span> 线路选择：</span>' +
													'<select class="time fence_name" style="width: 135px;padding-left: 10px;padding-right: 10px;">' +
														'<option>测试线路1</option>'+
														'<option>测试线路2</option>'+
													'</select>' +
												'</div> ' +
												'<span class="del_time" onclick="del_time(this)"></span>' +
											'</div>' +
											'<p class="add add_work_time" style="margin:10px auto;"><i class="fa fa-plus"></i> 新增一组上下班时间</p>' +
										'</div>' +
										'<p class="title">任务选择</p>' +
										'<div class="task">' +
											'<div class="time_line " style="height: 45px;">' +
												'<div class="choose_time2 ">' +
													'<span style="width: 65px;">单位选则</span>' +
													'<select class="time fence_name" style="width: 135px;padding-left: 10px;padding-right: 10px;">' +
														'<option>测试单位1</option>'+
														'<option>测试单位2</option>'+
													'</select>' +
												'</div> ' +
												'<div class="choose_time3">' +
													'<span style="width: 65px;">时间段</span>' +
													'<input type="text" class="lineSelect demo-input" placeholder="请选择日期" id="test1" readonly>' +
												'</div>'+
												/*'<div class="choose_time">' +<input type="text" class="demo-input" placeholder="请选择日期" id="test1">
												'<span style="width: 65px;">时间段</span>' +
												'<select class="time" style="width: 110px;padding-left: 10px;padding-right: 10px;">' +
													'<option>测试单位1</option>'+
													'<option>测试单位2</option>'+
												'</select>' +
												'</div>' +
												'<div class="choose_time">' +
												'<span style="width: 15px;">-</span>' +
												'<select class="time" style="width: 110px;padding-left: 10px;padding-right: 10px;">' +
													'<option>测试单位1</option>'+
													'<option>测试单位2</option>'+
												'</select>' +
												'</div>' +*/
												'<span class="del_time" style="top:15px;" onclick="del_time(this)"></span>' +
											'</div> ' +
											'<p class="add add_task" style="margin:10px auto;"><i class="fa fa-plus"></i> 新增一组任务</p>' +
										'</div>';
								}

							}

							$('#task_precent_list li[data-index]').remove();

							$('.setting_body').append(add_box_html);
							$('.box[data-index]').addClass('hide');
							$('.box[data-index=1]').addClass('hide');
							$('.task_box[data-index=0]').removeClass('hide');
							add_fenceId(); //加载电子围栏列表
							add_time_tool(); //加载工具
							add_time_tool2(); //加载工具
							
							laydate.render({
							  elem: '.demo-input'
							  ,type: 'time'
							  ,range: true
							});
						});

						/*
						 **    批量设置排班
						 */
						function setManyWork() {
							reset();
							$('#loop_tab').html('<span class="label_default pull-left label_blue">暂无</span>');
							$('#setting_loop select option:first-child').prop('selected', true);
							var checked = $('tbody input:checked');
							console.log(checked);
							id = [];
							$.each(checked, function(k, v) {
								console.log(userId);
								userId = $(v).attr('data-userid');
								id.push({
									id: $(v).val(),
									userId: $(v).attr('data-userid'),
									fullName: $(v).attr('data-fullname')
								});
							});
							if(conditions.taskType == 0) {
								task_html = '（常规任务）';
								$('#setting_endtime').css('display', 'none');
							} else {
								task_html = '（特殊任务）';
								$('#setting_endtime').css('display', 'block');
							}
							$('#setting h5').html('批量排班设置' + task_html);
						}

						/**

						*   提交排班设置
						 
						*/
						$('#setting').on('hide.bs.modal', function() {
							$('html,body').css({
								overflow: 'auto'
							})
						})

						var shifts = [];

						function setup() {
							if(cookie.level == 0) {
								canEdit = localStorage.getItem("canEdit");
								if(canEdit == 'false') {
									return bootbox.alert("无权操作");
								}
							}
							$('html,body').css({
								overflow: 'hidden'
							})
							$('.modal').css('overflow', 'auto');
							shifts = [];
							//循环获取每一个任务框的值
							console.log('提交');
							isReturn = false;
							$.each($('.task_box'), function(task_index, timeline) {
								var type = $(timeline).find('.dowork input').is(":checked") ? 0 : 1;
								//console.log(k,v);
								shifts_item = {
									"orderId": task_index,
									"shiftsGroupId": task_index,
									"type": type,
									"workTime": [],
									"task": []
								};
								if(type) {
									shifts_item = {
										"orderId": task_index,
										"type": 1
									}
									console.log('休班');
								} else {

									$.each($(timeline).find('.worktime .time_line'), function(worktime_index, worktime) {
										var starttime = $(worktime).find('.time').eq(0).val();
										var endtime = $(worktime).find('.time').eq(1).val();
										if(!starttime || !endtime) {
											bootbox.alert({
												message: '出勤时间不能为空'
											});
											isReturn = true;
											return;
										}
										var et = endtime.slice(0, 2) + '' + endtime.slice(3, 5);
										var st = starttime.slice(0, 2) + '' + starttime.slice(3, 5);

										if(parseInt(et) - parseInt(st) <= 0) {
											bootbox.alert({
												message: '下班时间小于上班时间'
											});
											isReturn = true;
											return;
										}
										shifts_item.workTime.push({
											"start": starttime,
											"end": endtime
										});
									});

									$.each($(timeline).find('.task .time_line'), function(tasktime_index, tasktime) {
										var alltasktime = $(tasktime).find(".time").eq(1).find('option:selected').text();
										var taskId = $(tasktime).find(".time").eq(1).find('option:selected').attr('data-taskId');
										var fenceId = $(tasktime).find(".time").eq(0).find('option:selected').attr('data-fenceId');
										var fenceName = $(tasktime).find(".time").eq(0).find('option:selected').text();

										var start = alltasktime.slice(0, 5);
										var end = alltasktime.slice(6, 11);
										//console.log(timeline);
										//console.log('电子围栏id和name',fenceId,fenceName);
										shifts_item.task.push({
											"fenceId": fenceId,
											"fenceName": fenceName,
											"start": start,
											"end": end,
											"taskId": taskId
										});
									});

								}
								shifts.push(shifts_item);
							}); ////循环获取每一个任务框的值
							console.log();

							if(isReturn) {
								return false;
							}
							if(!$('#startTime').val()) {
								bootbox.alert({
									message: '请填写循环开始时间'
								});
								return;
							}
							if(!$('#endtime').val() && conditions.taskType != 0) {
								bootbox.alert({
									message: '请填写循环结束时间'
								});
								return;
							}

							console.log('assss', typeof id);
							setupStatusid = ((typeof id) == 'string') ? id : id[0].id;
							setupStatusfullname = ((typeof id) == 'string') ? $('#setting_name').attr('data-fullName') : id[0].fullname;

							var data = {
								"action": "/shifts/setupStatus", // /shifts/updateSetup
								"id": setupStatusid,
								"type": loop_type,
								"userId": userId,
								"taskType": conditions.taskType,
								"fullName": setupStatusfullname,
								"startTime": $('#startTime').val(), //开始时间
								"endTime": $('#endtime').val() ? $('#endtime').val() : null, //只有特殊任务传此参数
								"loopNum": $('#loop_tab span').size(),
								"shifts": shifts
							};

							console.log('提交的数据', data);
						}
					</script>

					<script type="text/javascript">
							
						//重置模态框
						function reset() {
							
						}

						// 加载任务选择 && 选择指定任务对应筛选时间列表
						function add_fenceId() {
							console.log('加载电子围栏列表');
						}

						/**

						*   自定义工具
						 
						*/
						function add_time_tool() {
							var choose_time = '<div class="time_pick" style="display:none;">' +
								'<ul class="hour scroll">' +
								'<li>时</li>' +
								'</ul>' +
								'<ul class="min scroll">' +
								'<li>分</li>' +
								'</ul>' +
								'</div>';
							$('.choose_time').append(choose_time);

							// 添加小时
							var hour = '';
							for(var i = 0; i < 24; i++) {
								hour += '<li>' + (i < 10 ? "0" + i : i) + '</li>';
							}
							$('.box .hour').append(hour);

							// 添加分钟
							var min = '';
							for(var i = 0; i < 60; i++) {
								min += '<li>' + (i < 10 ? "0" + i : i) + '</li>';
							}
							$('.box .min').append(min);

							// 时间选中的逻辑
							$('.hour li:not(:first-child)').unbind().click(function() {
								var h = $(this).text();
								$(this).parents('.choose_time').find('.time').val(h + ':');
							});
							$('.min li:not(:first-child)').unbind().click(function() {
								var m = $(this).text();
								var val = $(this).parents('.choose_time').find('.time');
								if(val.val()) {
									val.val(val.val().slice(0, 3) + m);
								} else {
									val.val("00:" + m);
								}
							});

							// 显示隐藏
							$('.choose_time input.time').unbind().click(function(e) {
								var isNone = $(this).next().css('display') == 'block' ? false : true;
								$(".choose_time .time_pick").fadeOut();
								if(isNone) {
									$(this).next().fadeToggle();
								}
								e.stopPropagation();
							});
							$('.choose_time .time_pick').unbind().click(function(e) {
								e.stopPropagation();
							});
							$(document).click(function() {
								$('.choose_time .time_pick').fadeOut();
							});

							// 新增上下班时间
							$('.add_work_time').unbind().click(function() {
								var clone = $(this).prev().clone(true)
								clone.find('input').val('');
								$(this).prev().after(clone);
							});
							// 新增任务
							$('.add_task').unbind().click(function() {
								var clone = $(this).prev().find('.time_line:first-child').clone(true);
								clone.find('input').val('');
								$(this).prev().append(clone);
							});

							// 选择班次
							if(!$('#loop_tab span.label_blue').length) {
								$('#loop_tab span:first-child').addClass('label_blue');
							}

							$('#loop_tab span').unbind().click(function() {
								$(this).addClass('label_blue').siblings().removeClass('label_blue');
								var index = $(this).attr('data-index');
								$('.task_box').addClass('hide');
								$('.task_box[data-index=' + index + ']').removeClass('hide');
							});

							// 选择是否工作( 上班 )
							$(".dowork").unbind().click(function() {
								$(this).parents('.worktime').find('.dorest input').prop('checked', false);
								$(this).parents('.worktime').find('.time_line').show().removeClass('hide');
								$(this).parents('.worktime').find('.add_work_time').show().removeClass('hide');
								$(this).parents('.box').find('.add_task').show().removeClass('hide');
								$(this).parents('.box').find('.task').show().removeClass('hide');
								$(this).parents('.box').find('.title').eq(1).show().removeClass('hide');
								var istimeline = $(this).parents('.worktime').find('.time_line').html();
								var timeline_html =
									'<div class="time_line">' +
									'<div class="choose_time">' +
									'<span> 上班时间：</span>' +
									'<input class="time" placeholder="选择时间" readonly >' +
									'</div> ' +
									'<div class="choose_time">' +
									'<span> 下班时间：</span>' +
									'<input class="time" placeholder="选择时间" readonly >' +
									'</div> ' +
									'<span class="del_time" onclick="del_time(this)"></span>' +
									'</div>';

								if(!istimeline) {
									$(this).parents('.worktime').find('.add_work_time').before(timeline_html);
								}

								var istask = $(this).parents('.box').find('.task').find('.time_line').html();
								var task_html =
									'<div class="time_line">' +
									'<div class="choose_time">' +
									'<span> </span>' +
									'<select class="time fence_name">' +

									'</select>' +
									'</div> ' +
									'<div class="choose_time">' +
									'<span> </span>' +
									'<select class="time">' +

									'</select>' +
									'</div>' +
									'<span class="del_time" onclick="del_time(this)"></span>' +
									'</div>  ';
								if(!istask) {
									$(this).parents('.box').find('.task').html(task_html);
								}
								add_fenceId(); //加载电子围栏列表
								add_time_tool(); //加载工具
							});
						}
						
						function add_time_tool2() {
							var choose_time = '<div class="time_pick" style="display:none;">' +
								'<ul class="carUL scroll">' +
								'<li>川BTEST1</li>' +
								'<li>川BTEST2</li>' +
								'</ul>' +
								'</div>';
							$('.choose_time2').append(choose_time);

							// 添加小时
							//var hour = '';
							/*for(var i = 0; i < 24; i++) {
								hour += '<li>' + (i < 10 ? "0" + i : i) + '</li>';
							}*/
							//$('.box .hour').append(hour);

							// 添加分钟
							/*var min = '';
							for(var i = 0; i < 60; i++) {
								min += '<li>' + (i < 10 ? "0" + i : i) + '</li>';
							}
							$('.box .min').append(min);*/

							// 时间选中的逻辑
							$('.hour li:not(:first-child)').unbind().click(function() {
								var h = $(this).text();
								$(this).parents('.choose_time').find('.time').val(h + ':');
							});
							$('.min li:not(:first-child)').unbind().click(function() {
								var m = $(this).text();
								var val = $(this).parents('.choose_time').find('.time');
								if(val.val()) {
									val.val(val.val().slice(0, 3) + m);
								} else {
									val.val("00:" + m);
								}
							});

							// 显示隐藏
							$('.choose_time2 input .carSelect').unbind().click(function(e) {
								var isNone = $(this).next().css('display') == 'block' ? false : true;
								$(".choose_time2 .time_pick").fadeOut();
								if(isNone) {
									$(this).next().fadeToggle();
								}
								e.stopPropagation();
							});
							$('.choose_time2 .time_pick').unbind().click(function(e) {
								e.stopPropagation();
							});
							$(document).click(function() {
								$('.choose_time2 .time_pick').fadeOut();
							});

							// 新增上下班时间
							$('.add_work_time').unbind().click(function() {
								var clone = $(this).prev().clone(true)
								clone.find('input').val('');
								$(this).prev().after(clone);
								console.log(clone);
							});
							// 新增任务
							$('.add_task').unbind().click(function() {
								var clone = $(this).parent().find('.time_line:first-child').clone(true);
								clone.find('input').val('');
								$(this).prev().after(clone);
								console.log($(this).parent().find('.time_line:first-child'));
							});

							// 选择班次
							if(!$('#loop_tab span.label_blue').length) {
								$('#loop_tab span:first-child').addClass('label_blue');
							}

							$('#loop_tab span').unbind().click(function() {
								$(this).addClass('label_blue').siblings().removeClass('label_blue');
								var index = $(this).attr('data-index');
								$('.task_box').addClass('hide');
								$('.task_box[data-index=' + index + ']').removeClass('hide');
							});

							// 选择是否工作( 上班 )
							$(".dowork").unbind().click(function() {
								$(this).parents('.worktime').find('.dorest input').prop('checked', false);
								$(this).parents('.worktime').find('.time_line').show().removeClass('hide');
								$(this).parents('.worktime').find('.add_work_time').show().removeClass('hide');
								$(this).parents('.box').find('.add_task').show().removeClass('hide');
								$(this).parents('.box').find('.task').show().removeClass('hide');
								$(this).parents('.box').find('.title').eq(1).show().removeClass('hide');
								var istimeline = $(this).parents('.worktime').find('.time_line').html();
								var timeline_html =
									'<div class="time_line">' +
									'<div class="choose_time">' +
									'<span> 上班时间：</span>' +
									'<input class="time" placeholder="选择时间" readonly >' +
									'</div> ' +
									'<div class="choose_time">' +
									'<span> 下班时间：</span>' +
									'<input class="time" placeholder="选择时间" readonly >' +
									'</div> ' +
									'<span class="del_time" onclick="del_time(this)"></span>' +
									'</div>';

								if(!istimeline) {
									$(this).parents('.worktime').find('.add_work_time').before(timeline_html);
								}

								var istask = $(this).parents('.box').find('.task').find('.time_line').html();
								var task_html =
									'<div class="time_line">' +
									'<div class="choose_time">' +
									'<span> </span>' +
									'<select class="time fence_name">' +

									'</select>' +
									'</div> ' +
									'<div class="choose_time">' +
									'<span> </span>' +
									'<select class="time">' +

									'</select>' +
									'</div>' +
									'<span class="del_time" onclick="del_time(this)"></span>' +
									'</div>  ';
								if(!istask) {
									$(this).parents('.box').find('.task').html(task_html);
								}
								add_fenceId(); //加载电子围栏列表
								add_time_tool(); //加载工具

							});
							
							// 选择是否工作（休息）
							$(".dorest").unbind().click(function() {
								$(this).parents('.worktime').find('.dowork input').prop('checked', false);
								$(this).parents('.worktime').find('.time_line').hide();
								$(this).parents('.worktime').find('.add_work_time').hide();
								$(this).parents('.box').find('.add_task').hide();
								$(this).parents('.box').find('.task').hide();
								$(this).parents('.box').find('.title').eq(1).hide();
							});

						}

						//删除
						function del_time(obj) {
							var prev = $(obj).parents('.time_line').siblings('.time_line').length;
							console.log(prev);
							if(prev) {
								$(obj).parents('.time_line').remove();
							} else {
								bootbox.alert({
									message: '至少保留一组数据'
								});
							}

						}

						$(".del").click(function() {
							$(".modal,.modal-backdrop").hide();
							bootbox.confirm({
								message: '删除操作不可以恢复，你确认要删除内容',
								buttons: {
									cancel: {
										label: "取消"
									},
									confirm: {
										label: "确定"
									}
								},
								callback: function(result) {
									if(result) {
										console.log("shanchu ");
									}
								}
							});
						});

						/**

						 *  排班管理列表 添加数据和筛选

						*/
						function getData(page) {
							var pageSize = 10;
						}
						// 默认加载
						//getData(1);

						// 班次特征加载
						function addTaskType() {
							
						}
						addTaskType();

						// 班次循环筛选
						$("#task_loop li").click(function() {
							conditions.loopNum = $(this).attr('data-type');
							//getData(1);
						});

						// 班次特征筛选
						function selected_task_type(obj) {
							conditions = {
								"taskType": conditions.taskType,
								"companyId": conditions.companyId,
								"areaId": conditions.areaId,
								"groupId": conditions.groupId,
								"loopNum": "",
								"shiftsFeature": "",
								"status": "",
								"fullName": $('#ename').val()
							};
							conditions.shiftsFeature = $(obj).text() == '全部' ? '' : $(obj).text();
							//getData(1);
						}

						// 班次状态筛选
						$("#task_state li").click(function() {
							conditions = {
								"taskType": conditions.taskType,
								"companyId": conditions.companyId,
								"areaId": conditions.areaId,
								"groupId": conditions.groupId,
								"loopNum": "",
								"shiftsFeature": "",
								"status": "",
								"fullName": $('#ename').val()
							};
							conditions.status = $(this).attr('data-type');
							//getData(1);
						});
						// 特殊任务筛选
						$("#task_special span").click(function() {

							conditions = {
								"taskType": conditions.taskType,
								"companyId": conditions.companyId,
								"areaId": conditions.areaId,
								"groupId": conditions.groupId,
								"loopNum": "",
								"shiftsFeature": "",
								"status": "",
								"fullName": $('#ename').val()
							};
							$('thead input').prop('checked', false);
							conditions.taskType = $(this).attr('data-type');
							addTaskType();
							$('#setting_endtime').show();
							$("#task_special span").removeClass('btn_yellow');
							$(this).addClass('btn_yellow');
							getData(1);
						});
						//搜索
						$('.search_box .search_over').click(function() {
							conditions.loopNum = "",
								conditions.shiftsFeature = "",
								conditions.status = "",
								conditions.fullName = $('#ename').val();
							getData(1);
						});

						$(function() {
							// 公司、区域、小组筛选
							var t = setInterval(function() {
								console.log(1223);
								$('#menuTree span').click(function() {
									conditions = {
										"taskType": conditions.taskType,
										"companyId": conditions.companyId,
										"areaId": conditions.areaId,
										"groupId": conditions.groupId,
										"loopNum": "",
										"shiftsFeature": "",
										"status": ""
									};
									conditions.companyId = tree_conditions.companyId;
									conditions.groupId = tree_conditions.groupId;
									conditions.areaId = tree_conditions.areaId;
									getData(1);
									$("thead input").prop('checked', false);
									if(conditions.groupId) {
										$('#setMany').css('display', "block");
									} else {
										$('#setMany').css('display', "none");
									}
								});
								if($('#menuTree span').length) {
									clearInterval(t)
								}
							}, 100);
						});

						//导出excel文件
						$('#export').on('click', function() {
							console.log('导出');
							var arr = [];
							$("tbody [type='checkbox']:checked").each(function() {
								arr.push(parseInt($(this).val()));
							});
							console.log(arr);
							//var type=cardIs();
							con_ = {
								'action': '/shifts/manage-export',
								"page": true,
								"pageNumber": 1,
								"pageSize": 10,
								"conditions": {
									"ids": arr, //#3.8.1中返回的id
									"taskType": conditions.taskType, //# 0 常规任务，1 特殊任务
									"companyId": conditions.companyId,
									"areaId": conditions.areaId,
									"groupId": conditions.areaId,

									"loopNum": conditions.loopNum, // 1,2,3,4,5，。。。 数字为几，就是几班一循环
									"shiftsFeature": conditions.shiftsFeature, //# 从 3.8.2 接口获取
									"status": conditions.status, //# 0 未排满， 1 已排满， 2 未排班
									"fullName": conditions.fullName //#员工姓名
								}
							}
							console.log(con_);
							//checkOut(con_);
						});

						function checkOut(con) {
							/*$.post('/manage/home/getData/post', con,
								function(res) {
									var a = document.createElement('a');
									a.setAttribute('href', res.data);
									a.setAttribute('download', "");
									a.setAttribute('style', 'display:none');
									a.setAttribute('target', '_blank');
									document.body.appendChild(a);
									a.click();
									a.parentNode.removeChild(a);

								}, 'json');*/
						}

						// 重置 删除 排班
						function delShiftsGroup(obj) {
							if(cookie.level == 0) {
								canEdit = localStorage.getItem("canEdit");
								if(canEdit == 'false') {
									return bootbox.alert("无权操作");
								}
							}
							var id = $(obj).attr('data-id');
							// id= 361;
							console.log(id);
							bootbox.confirm({
								title: '重置排班设置',
								message: '重置排班后，历史排班数据将被清空。<br>是否重置排班？',
								buttons: {
									confirm: {
										label: "确定"
									},
									cancel: {
										label: "取消"
									}
								},
								callback: function(result) {
									if(result) {
										console.log("确定");
										
									} else {
										console.log("取消");
										return;
									}

								}

							});
						};
						
					</script>
				</div>
			</div>

		</div>
		<div class="datetimepicker datetimepicker-dropdown-bottom-right dropdown-menu" style="left: 0px; z-index: 100009;">
			<div class="datetimepicker-minutes" style="display: none;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">31 十二月 1899</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="minute active">0:00</span><span class="minute">0:05</span><span class="minute">0:10</span><span class="minute">0:15</span><span class="minute">0:20</span><span class="minute">0:25</span><span class="minute">0:30</span><span class="minute">0:35</span><span class="minute">0:40</span><span class="minute">0:45</span><span class="minute">0:50</span><span class="minute">0:55</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-hours" style="display: none;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">31 十二月 1899</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="hour active">0:00</span><span class="hour">1:00</span><span class="hour">2:00</span><span class="hour">3:00</span><span class="hour">4:00</span><span class="hour">5:00</span><span class="hour">6:00</span><span class="hour">7:00</span><span class="hour">8:00</span><span class="hour">9:00</span><span class="hour">10:00</span><span class="hour">11:00</span><span class="hour">12:00</span><span class="hour">13:00</span><span class="hour">14:00</span><span class="hour">15:00</span><span class="hour">16:00</span><span class="hour">17:00</span><span class="hour">18:00</span><span class="hour">19:00</span><span class="hour">20:00</span><span class="hour">21:00</span><span class="hour">22:00</span><span class="hour">23:00</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-days" style="display: block;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">十二月 1899</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
						<tr>
							<th class="dow">日</th>
							<th class="dow">一</th>
							<th class="dow">二</th>
							<th class="dow">三</th>
							<th class="dow">四</th>
							<th class="dow">五</th>
							<th class="dow">六</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="day old">26</td>
							<td class="day old">27</td>
							<td class="day old">28</td>
							<td class="day old">29</td>
							<td class="day old">30</td>
							<td class="day">1</td>
							<td class="day">2</td>
						</tr>
						<tr>
							<td class="day">3</td>
							<td class="day">4</td>
							<td class="day">5</td>
							<td class="day">6</td>
							<td class="day">7</td>
							<td class="day">8</td>
							<td class="day">9</td>
						</tr>
						<tr>
							<td class="day">10</td>
							<td class="day">11</td>
							<td class="day">12</td>
							<td class="day">13</td>
							<td class="day">14</td>
							<td class="day">15</td>
							<td class="day">16</td>
						</tr>
						<tr>
							<td class="day">17</td>
							<td class="day">18</td>
							<td class="day">19</td>
							<td class="day">20</td>
							<td class="day">21</td>
							<td class="day">22</td>
							<td class="day">23</td>
						</tr>
						<tr>
							<td class="day">24</td>
							<td class="day">25</td>
							<td class="day">26</td>
							<td class="day">27</td>
							<td class="day">28</td>
							<td class="day">29</td>
							<td class="day">30</td>
						</tr>
						<tr>
							<td class="day active">31</td>
							<td class="day new">1</td>
							<td class="day new">2</td>
							<td class="day new">3</td>
							<td class="day new">4</td>
							<td class="day new">5</td>
							<td class="day new">6</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-months" style="display: none;">
				<table class="table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">1899</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="month">一月</span><span class="month">二月</span><span class="month">三月</span><span class="month">四月</span><span class="month">五月</span><span class="month">六月</span><span class="month">七月</span><span class="month">八月</span><span class="month">九月</span><span class="month">十月</span><span class="month">十一月</span><span class="month active">十二月</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-years" style="display: none;">
				<table class="table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">1890-1899</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="year old">1889</span><span class="year">1890</span><span class="year">1891</span><span class="year">1892</span><span class="year">1893</span><span class="year">1894</span><span class="year">1895</span><span class="year">1896</span><span class="year">1897</span><span class="year">1898</span><span class="year active">1899</span><span class="year old">1900</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
		<div class="datetimepicker datetimepicker-dropdown-bottom-right dropdown-menu" style="left: 0px; z-index: 100019;">
			<div class="datetimepicker-minutes" style="display: none;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">23 十月 2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="minute">15:00</span><span class="minute">15:05</span><span class="minute">15:10</span><span class="minute active">15:15</span><span class="minute">15:20</span><span class="minute">15:25</span><span class="minute">15:30</span><span class="minute">15:35</span><span class="minute">15:40</span><span class="minute">15:45</span><span class="minute">15:50</span><span class="minute">15:55</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-hours" style="display: none;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">23 十月 2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="hour">0:00</span><span class="hour">1:00</span><span class="hour">2:00</span><span class="hour">3:00</span><span class="hour">4:00</span><span class="hour">5:00</span><span class="hour">6:00</span><span class="hour">7:00</span><span class="hour">8:00</span><span class="hour">9:00</span><span class="hour">10:00</span><span class="hour">11:00</span><span class="hour">12:00</span><span class="hour">13:00</span><span class="hour">14:00</span><span class="hour active">15:00</span><span class="hour">16:00</span><span class="hour">17:00</span><span class="hour">18:00</span><span class="hour">19:00</span><span class="hour">20:00</span><span class="hour">21:00</span><span class="hour">22:00</span><span class="hour">23:00</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-days" style="display: block;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">十月 2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
						<tr>
							<th class="dow">日</th>
							<th class="dow">一</th>
							<th class="dow">二</th>
							<th class="dow">三</th>
							<th class="dow">四</th>
							<th class="dow">五</th>
							<th class="dow">六</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="day old">30</td>
							<td class="day">1</td>
							<td class="day">2</td>
							<td class="day">3</td>
							<td class="day">4</td>
							<td class="day">5</td>
							<td class="day">6</td>
						</tr>
						<tr>
							<td class="day">7</td>
							<td class="day">8</td>
							<td class="day">9</td>
							<td class="day">10</td>
							<td class="day">11</td>
							<td class="day">12</td>
							<td class="day">13</td>
						</tr>
						<tr>
							<td class="day">14</td>
							<td class="day">15</td>
							<td class="day">16</td>
							<td class="day">17</td>
							<td class="day">18</td>
							<td class="day">19</td>
							<td class="day">20</td>
						</tr>
						<tr>
							<td class="day">21</td>
							<td class="day">22</td>
							<td class="day active">23</td>
							<td class="day">24</td>
							<td class="day">25</td>
							<td class="day">26</td>
							<td class="day">27</td>
						</tr>
						<tr>
							<td class="day">28</td>
							<td class="day">29</td>
							<td class="day">30</td>
							<td class="day">31</td>
							<td class="day new">1</td>
							<td class="day new">2</td>
							<td class="day new">3</td>
						</tr>
						<tr>
							<td class="day new">4</td>
							<td class="day new">5</td>
							<td class="day new">6</td>
							<td class="day new">7</td>
							<td class="day new">8</td>
							<td class="day new">9</td>
							<td class="day new">10</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-months" style="display: none;">
				<table class="table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="month">一月</span><span class="month">二月</span><span class="month">三月</span><span class="month">四月</span><span class="month">五月</span><span class="month">六月</span><span class="month">七月</span><span class="month">八月</span><span class="month">九月</span><span class="month active">十月</span><span class="month">十一月</span><span class="month">十二月</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-years" style="display: none;">
				<table class="table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">2010-2019</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="year old">2009</span><span class="year">2010</span><span class="year">2011</span><span class="year">2012</span><span class="year">2013</span><span class="year">2014</span><span class="year">2015</span><span class="year">2016</span><span class="year">2017</span><span class="year active">2018</span><span class="year">2019</span><span class="year old">2020</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
		<div class="datetimepicker datetimepicker-dropdown-bottom-right dropdown-menu" style="left: 0px; z-index: 100029;">
			<div class="datetimepicker-minutes" style="display: none;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">23 十月 2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="minute">15:00</span><span class="minute">15:05</span><span class="minute">15:10</span><span class="minute active">15:15</span><span class="minute">15:20</span><span class="minute">15:25</span><span class="minute">15:30</span><span class="minute">15:35</span><span class="minute">15:40</span><span class="minute">15:45</span><span class="minute">15:50</span><span class="minute">15:55</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-hours" style="display: none;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">23 十月 2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="hour">0:00</span><span class="hour">1:00</span><span class="hour">2:00</span><span class="hour">3:00</span><span class="hour">4:00</span><span class="hour">5:00</span><span class="hour">6:00</span><span class="hour">7:00</span><span class="hour">8:00</span><span class="hour">9:00</span><span class="hour">10:00</span><span class="hour">11:00</span><span class="hour">12:00</span><span class="hour">13:00</span><span class="hour">14:00</span><span class="hour active">15:00</span><span class="hour">16:00</span><span class="hour">17:00</span><span class="hour">18:00</span><span class="hour">19:00</span><span class="hour">20:00</span><span class="hour">21:00</span><span class="hour">22:00</span><span class="hour">23:00</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-days" style="display: block;">
				<table class=" table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">十月 2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
						<tr>
							<th class="dow">日</th>
							<th class="dow">一</th>
							<th class="dow">二</th>
							<th class="dow">三</th>
							<th class="dow">四</th>
							<th class="dow">五</th>
							<th class="dow">六</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="day old">30</td>
							<td class="day">1</td>
							<td class="day">2</td>
							<td class="day">3</td>
							<td class="day">4</td>
							<td class="day">5</td>
							<td class="day">6</td>
						</tr>
						<tr>
							<td class="day">7</td>
							<td class="day">8</td>
							<td class="day">9</td>
							<td class="day">10</td>
							<td class="day">11</td>
							<td class="day">12</td>
							<td class="day">13</td>
						</tr>
						<tr>
							<td class="day">14</td>
							<td class="day">15</td>
							<td class="day">16</td>
							<td class="day">17</td>
							<td class="day">18</td>
							<td class="day">19</td>
							<td class="day">20</td>
						</tr>
						<tr>
							<td class="day">21</td>
							<td class="day">22</td>
							<td class="day active">23</td>
							<td class="day">24</td>
							<td class="day">25</td>
							<td class="day">26</td>
							<td class="day">27</td>
						</tr>
						<tr>
							<td class="day">28</td>
							<td class="day">29</td>
							<td class="day">30</td>
							<td class="day">31</td>
							<td class="day new">1</td>
							<td class="day new">2</td>
							<td class="day new">3</td>
						</tr>
						<tr>
							<td class="day new">4</td>
							<td class="day new">5</td>
							<td class="day new">6</td>
							<td class="day new">7</td>
							<td class="day new">8</td>
							<td class="day new">9</td>
							<td class="day new">10</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-months" style="display: none;">
				<table class="table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">2018</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="month">一月</span><span class="month">二月</span><span class="month">三月</span><span class="month">四月</span><span class="month">五月</span><span class="month">六月</span><span class="month">七月</span><span class="month">八月</span><span class="month">九月</span><span class="month active">十月</span><span class="month">十一月</span><span class="month">十二月</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="datetimepicker-years" style="display: none;">
				<table class="table-condensed">
					<thead>
						<tr>
							<th class="prev" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-left"></span> </th>
							<th colspan="5" class="switch">2010-2019</th>
							<th class="next" style="visibility: visible;"><span class="glyphicon glyphicon-arrow-right"></span> </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="7"><span class="year old">2009</span><span class="year">2010</span><span class="year">2011</span><span class="year">2012</span><span class="year">2013</span><span class="year">2014</span><span class="year">2015</span><span class="year">2016</span><span class="year">2017</span><span class="year active">2018</span><span class="year">2019</span><span class="year old">2020</span></td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th colspan="7" class="today" style="display: none;">今天</th>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
	</body>

</html>